{"version":3,"sources":["file:///Users/zhao/Desktop/test/cocos-creator/RollABall/assets/Scripts/Player.ts"],"names":["_decorator","Component","Input","input","KeyCode","Vec2","ccclass","property","Player","moveDir","ZERO","start","onLoad","on","EventType","KEY_DOWN","onKeyDown","KEY_UP","onKeyUp","KEY_PRESSING","onKeyPressing","event","keyCode","KEY_W","x","KEY_S","KEY_A","y","KEY_D","console","log","update","deltaTime","pos","node","position","setPosition","speed","z"],"mappings":"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","sourcesContent":["import { _decorator, Component, EventKeyboard, Input, input, KeyCode, log, Node, Vec2 } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Player')\nexport class Player extends Component {\n\n    @property\n    public speed = 5;\n\n    private moveDir: Vec2 = Vec2.ZERO\n\n    start() {\n\n    }\n\n    protected onLoad(): void {\n        input.on(Input.EventType.KEY_DOWN, this.onKeyDown, this);\n        input.on(Input.EventType.KEY_UP, this.onKeyUp, this);\n        input.on(Input.EventType.KEY_PRESSING, this.onKeyPressing, this);\n    }\n\n    onKeyDown(event: EventKeyboard) {\n        switch (event.keyCode) {\n          case KeyCode.KEY_W:\n            this.moveDir = new Vec2(this.moveDir.x, 1)\n            break\n          case KeyCode.KEY_S:\n            this.moveDir = new Vec2(this.moveDir.x, -1)\n            break\n          case KeyCode.KEY_A:\n            this.moveDir = new Vec2(-1, this.moveDir.y)\n            break\n          case KeyCode.KEY_D:\n            this.moveDir = new Vec2(1, this.moveDir.y)\n            break\n        }\n\n        console.log(this.moveDir);\n    }\n\n    onKeyUp(event: EventKeyboard) {\n        switch (event.keyCode) {\n          case KeyCode.KEY_W:\n            this.moveDir = new Vec2(this.moveDir.x, 0)\n            break\n          case KeyCode.KEY_S:\n            this.moveDir = new Vec2(this.moveDir.x, 0)\n            break\n          case KeyCode.KEY_A:\n            this.moveDir = new Vec2(0, this.moveDir.y)\n            break\n          case KeyCode.KEY_D:\n            this.moveDir = new Vec2(0, this.moveDir.y)\n            break\n        }\n\n        console.log(this.moveDir);\n\n    }\n\n    onKeyPressing(event: EventKeyboard) {\n        console.log(event.keyCode);\n    }\n\n\n\n    update(deltaTime: number) {\n      const pos = this.node.position\n      // console.log(this.moveDir)\n      if (!this.moveDir)  return\n        this.node.setPosition(pos.x + this.moveDir.y * this.speed * deltaTime, pos.y, pos.z + this.moveDir.x * this.speed * deltaTime)\n    }\n}\n"]}